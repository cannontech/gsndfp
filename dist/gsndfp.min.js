/*!
 * gsndfp
 * version 1.1.0
 * Requires jQuery 1.7.1 or higher
 * git@github.com:gsn/gsndfp.git
 * License: Grocery Shopping Network
 *          MIT from derived work of Copyright (c) 2013 Matt Cooper: https://github.com/coop182/jquery.dfp.js  v1.0.18
 */
!function(e,t,n,o,i){var s,d,a,r,l,c,g,p,u,f,w;if(f=n.sessionStorage,r=0,"undefined"==typeof f&&(f={getItem:function(){},setItem:function(){}}),w=void 0,u=void 0,l=t||{},p=l.Advertising,("undefined"==typeof p||!p.pluginLoaded)&&(s=function(){this.init()},s.prototype={init:function(){},pluginLoaded:!0,defaultActionParam:{page:"",evtname:"",dept:"",deviceid:"",storeid:"",consumerid:"",isanon:!1,loyaltyid:"",aisle:"",category:"",shelf:"",brand:"",pcode:"",pdesc:"",latlng:[0,0],evtcategory:"",evtvalue:0},data:{},gsnNetworkId:"/6394/digitalstore.test",chainId:0,onAllEvents:null,oldGsnAdvertising:p,isDebug:!1,minSecondBetweenRefresh:2,trigger:function(t,o){t.indexOf("gsnevent")<0&&(t="gsnevent:"+t),n.setTimeout(function(){u?u.event.trigger({type:t,detail:o}):e.event.trigger({type:t,detail:o}),"function"==typeof this.onAllEvents&&this.onAllEvents({type:t,detail:o})},100)},on:function(t,n){t.indexOf("gsnevent")<0&&(t="gsnevent:"+t),e(o).on(t,n)},off:function(t,n){t.indexOf("gsnevent")<0&&(t="gsnevent:"+t),e(o).off(t,n)},log:function(e){return console&&console.log(e),this},ajaxFireUrl:function(t,n){var o,i;if("string"==typeof t){if(t.length<10)return;t=t.replace("%%CACHEBUSTER%%",(new Date).getTime()),n?(e.ajax({async:!1,url:t}),o=t.indexOf("adurl="),o>0&&(i=t.substr(o+6),this.ajaxFireUrl(i,n))):(a(),w.src=t)}},clickProduct:function(e,t,n,o,i,s,d,a,r,l,c,g,p){this.ajaxFireUrl(e),this.trigger("clickProduct",{myPlugin:this,CategoryId:t,BrandName:n,Description:o,ProductCode:i,DisplaySize:d,RegularPrice:a,CurrentPrice:r,SavingsAmount:l,SavingsStatement:c,AdCode:g,CreativeId:p,Quantity:s||1})},clickBrickOffer:function(e,t){this.ajaxFireUrl(e),this.trigger("clickBrickOffer",{myPlugin:this,OfferCode:t||0})},clickBrand:function(e,t){this.ajaxFireUrl(e),this.setBrand(t),this.trigger("clickBrand",{myPlugin:this,BrandName:t})},clickPromotion:function(e,t){this.ajaxFireUrl(e),this.trigger("clickPromotion",{myPlugin:this,AdCode:t})},clickRecipe:function(e,t){this.ajaxFireUrl(e),this.trigger("clickRecipe",{RecipeId:t})},clickLink:function(e,t,n){(void 0===n||""===n)&&(n="_top"),this.ajaxFireUrl(e),this.trigger("clickLink",{myPlugin:this,Url:t,Target:n})},setBrand:function(e){this.data.BrandName=e,f.setItem("Gsn.Advertisement.data.BrandName",e)},getBrand:function(){return this.data.BrandName||f.getItem("Gsn.Advertisement.data.BrandName")},actionHandler:function(t){var n,o,i,s,d;return s=l.Advertising,o=t.target?t.target:t.srcElement,d=e(o),i={},n=d.data(),e.each(n,function(e,t){/^gsn/gi.test(e)&&(i[e.replace("gsn","").toLowerCase()]=t)}),s.refreshAdPods(i),s},refreshAdPods:function(t){var n,o;return o=l.Advertising,n={},e.extend(n,o.defaultActionParam),e.extend(n,t),o.isDebug&&o.log(JSON.stringify(n)),(0===r||(new Date).getSeconds()-r.getSeconds()>=o.minSecondBetweenRefresh)&&(e.gsnDfp({dfpID:o.gsnNetworkId,setTargeting:{brand:o.getBrand()},enableSingleRequest:!1}),r=new Date),o},setDefault:function(t){var n;return n=this,e.extend(n.defaultActionParam,t)},load:function(t,n,o,i){var s,d;return d=this,d.chainId=t,d.gsnNetworkId=n,d.isDebug=o,s=d.refreshAdPods,e(i||"body").on("click",".gsnaction",d.actionHandler),e.gsnSw2({chainId:t,dfpID:n,displayWhenExists:".gsnunit",enableSingleRequest:!1,onClose:s}),d}},g=new s,l.Advertising=g,l.Advertising.brickRedirect=g.clickBrickOffer,l.Advertising.clickBrand=g.clickBrand,l.Advertising.clickThru=g.clickProduct,l.Advertising.logAdImpression=function(){},l.Advertising.logAdRequest=function(){},l.Advertising.promotionRedirect=g.clickPromotion,l.Advertising.verifyClickThru=g.clickLink,l.Advertising.recipeRedirect=g.clickRecipe,n.Gsn=l,"undefined"!=typeof i&&(l.Advertising.on("clickRecipe",function(e){"gsnevent:clickRecipe"===e.type&&n.location.replace("/Recipes/RecipeFull.aspx?recipeid="+e.detail.RecipeId)}),l.Advertising.on("clickProduct",function(e){var t,n;"gsnevent:clickProduct"===e.type&&(t=e.detail,t&&(n=new String(""),n+=d("DepartmentID",t.CategoryId),n+="~",n+=d("BrandName",t.BrandName),n+="~",n+=d("ProductDescription",t.Description),n+="~",n+=d("ProductCode",t.ProductCode),n+="~",n+=d("DisplaySize",t.DisplaySize),n+="~",n+=d("RegularPrice",t.RegularPrice),n+="~",n+=d("CurrentPrice",t.CurrentPrice),n+="~",n+=d("SavingsAmount",t.SavingsAmount),n+="~",n+=d("SavingsStatement",t.SavingsStatement),n+="~",n+=d("Quantity",t.Quantity),n+="~",n+=d("AdCode",t.AdCode),n+="~",n+=d("CreativeID",t.CreativeId),"function"==typeof AddAdToShoppingList&&AddAdToShoppingList(n)))}),l.Advertising.on("clickLink",function(e){var t;"gsnevent:clickLink"===e.type&&(t=e.detail,t&&((void 0===t.Target||""===t.Target)&&(t.Target="_top"),"_blank"===t.Target?n.open(t.Url):n.location.replace(t.Url)))}),l.Advertising.on("clickPromotion",function(e){var t;"gsnevent:clickPromotion"===e.type&&(t=e.detail,t&&n.location.replace("/Ads/Promotion.aspx?adcode="+t.AdCode))}),l.Advertising.on("clickBrickOffer",function(e){var t,o;"gsnevent:clickBrickOffer"===e.type&&(t=e.detail,t&&(o="https://clientapi.gsn2.com/api/v1/profile/BrickOffer/"+i.ConsumerID+"/"+t.OfferCode,n.open(o,"")))})),n.top)){c=null;try{c=n.top.$}catch(h){c=n.parent.$}c!==e&&(u=c)}}(window.jQuery||window.Zepto||window.tire||window.$,window.Gsn||{},window,document,window.GSNContext),function($,window){"use strict";var $adCollection,count,createAds,dfpBlocked,dfpID,dfpIsLoaded,dfpLoader,dfpOptions,dfpScript,dfpSelector,displayAds,getDimensions,getID,init,isInView,rendered,sessionStorageX,setOptions,storeAs;sessionStorageX=sessionStorage,"undefined"==typeof sessionStorageX&&(sessionStorageX={getItem:function(){},setItem:function(){}}),dfpScript=this,dfpID="",count=0,rendered=0,dfpSelector=".gsnunit",dfpOptions={},dfpIsLoaded=!1,$adCollection=void 0,storeAs="gsnUnit",init=function(e,t,n){dfpID=e,$adCollection=$(t),dfpLoader(),setOptions(n),$(function(){createAds(),displayAds()})},setOptions=function(e){dfpOptions={setTargeting:{},setCategoryExclusion:"",setLocation:"",enableSingleRequest:!0,collapseEmptyDivs:!0,refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,inViewOnly:!1,noFetch:!1},$.extend(!0,dfpOptions,e),dfpOptions.googletag&&window.googletag.cmd.push(function(){$.extend(!0,window.googletag,dfpOptions.googletag)})},createAds=function(){$adCollection.each(function(){var $adUnit,$existingContent,adUnitID,dimensions;$adUnit=$(this),count++,adUnitID=getID($adUnit,"gsn",count),dimensions=getDimensions($adUnit),$existingContent=$adUnit.html(),$adUnit.html("").addClass("display-none"),window.googletag.cmd.push(function(){var $adUnitData,exclusions,exclusionsGroup,googleAdUnit,targeting,valueTrimmed;googleAdUnit=void 0,$adUnitData=$adUnit.data(storeAs),$adUnitData||(dfpID=dfpID.replace(/(\/\/)+/gi,"/").replace(/\s+/gi,"").replace(/(\/)$/,"/"),0!==dfpID.indexOf("/")&&(dfpID="/"+dfpID),googleAdUnit=$adUnit.data("outofpage")?window.googletag.defineOutOfPageSlot(dfpID,adUnitID).addService(window.googletag.pubads()):window.googletag.defineSlot(dfpID,dimensions,adUnitID).addService(window.googletag.pubads()),targeting=$adUnit.data("targeting"),targeting&&("string"==typeof targeting&&(targeting=eval("("+targeting+")")),$.each(targeting,function(e,t){"brand"===e&&sessionStorageX.setItem("brand",t),googleAdUnit.setTargeting(e,t)})),exclusions=$adUnit.data("exclusions"),exclusions&&(exclusionsGroup=exclusions.split(","),valueTrimmed=void 0,$.each(exclusionsGroup,function(e,t){valueTrimmed=$.trim(t),valueTrimmed.length>0&&googleAdUnit.setCategoryExclusion(valueTrimmed)})),googleAdUnit.oldRenderEnded=googleAdUnit.oldRenderEnded||googleAdUnit.renderEnded,googleAdUnit.renderEnded=function(){var e;rendered++,e=$adUnit.css("display"),$adUnit.removeClass("display-none").addClass("display-"+e),googleAdUnit.oldRenderEnded(),"function"==typeof dfpOptions.afterEachAdLoaded&&dfpOptions.afterEachAdLoaded.call(this,$adUnit),"function"==typeof dfpOptions.afterAllAdsLoaded&&rendered===count&&dfpOptions.afterAllAdsLoaded.call(this,$adCollection)},$adUnit.data(storeAs,googleAdUnit))})}),window.googletag.cmd.push(function(){var e,t;"undefined"==typeof dfpOptions.setTargeting.brand&&sessionStorageX.getItem("brand")&&(dfpOptions.setTargeting.brand=sessionStorageX.getItem("brand")),dfpOptions.enableSingleRequest===!0&&window.googletag.pubads().enableSingleRequest(),$.each(dfpOptions.setTargeting,function(e,t){"brand"===e&&sessionStorageX.setItem("brand",t),window.googletag.pubads().setTargeting(e,t)}),"object"==typeof dfpOptions.setLocation&&("number"==typeof dfpOptions.setLocation.latitude&&"number"==typeof dfpOptions.setLocation.longitude&&"number"==typeof dfpOptions.setLocation.precision?window.googletag.pubads().setLocation(dfpOptions.setLocation.latitude,dfpOptions.setLocation.longitude,dfpOptions.setLocation.precision):"number"==typeof dfpOptions.setLocation.latitude&&"number"==typeof dfpOptions.setLocation.longitude&&window.googletag.pubads().setLocation(dfpOptions.setLocation.latitude,dfpOptions.setLocation.longitude)),dfpOptions.setCategoryExclusion.length>0&&(e=dfpOptions.setCategoryExclusion.split(","),t=void 0,$.each(e,function(e,n){t=$.trim(n),t.length>0&&window.googletag.pubads().setCategoryExclusion(t)})),dfpOptions.collapseEmptyDivs&&window.googletag.pubads().collapseEmptyDivs(),dfpOptions.disablePublisherConsole===!0&&window.googletag.pubads().disablePublisherConsole(),dfpOptions.disableInitialLoad===!0&&window.googletag.pubads().disableInitialLoad(),dfpOptions.noFetch===!0&&window.googletag.pubads().noFetch(),window.googletag.enableServices()})},isInView=function(e){var t,n,o,i;return n=$(window).scrollTop(),t=n+$(window).height(),i=e.offset().top,o=i+e.height(),i+(o-i)/2>=n&&t>=i+(o-i)/2},displayAds=function(){var e;e=[],$adCollection.each(function(){var t,n;t=$(this),n=t.data(storeAs),dfpOptions.refreshExisting&&n&&t.data("gsnDfpExisting")?(!dfpOptions.inViewOnly||isInView(t)&&t.is(":visible"))&&e.push(n):(t.data("gsnDfpExisting",!0),window.googletag.cmd.push(function(){window.googletag.display(t.attr("id"))}))}),e.length>0&&window.googletag.cmd.push(function(){window.googletag.pubads().refresh(e)})},getID=function(e,t,n){return dfpOptions.refreshExisting||(e.data(storeAs,null),e.data("gsnDfpExisting",null),e.attr("id")&&e.attr("id",t+"-auto-gen-id-"+n)),e.attr("id")||e.attr("id",t+"-auto-gen-id-"+n).attr("id")},getDimensions=function(e){var t,n,o;return n=[],o=e.data("dimensions"),o?(t=o.split(","),$.each(t,function(e,t){var o;o=t.split("x"),n.push([parseInt(o[0],10),parseInt(o[1],10)])})):n.push([e.width(),e.height()]),n},dfpLoader=function(){var e,t,n;dfpIsLoaded=dfpIsLoaded||$('script[src*="googletagservices.com/tag/js/gpt.js"]').length,dfpIsLoaded||(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e=document.createElement("script"),e.async=!0,e.type="text/javascript",e.onerror=function(){dfpBlocked()},n="https:"===document.location.protocol,e.src=(n?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t),"none"===e.style.display&&dfpBlocked())},dfpBlocked=function(){var e;e=window.googletag.cmd,setTimeout(function(){var t;t=function(e,t,n){return window.googletag.ads.push(n),window.googletag.ads[n]={renderEnded:function(){},addService:function(){return this}},window.googletag.ads[n]},window.googletag={cmd:{push:function(e){e.call(dfpScript)}},ads:[],pubads:function(){return this},noFetch:function(){return this},disableInitialLoad:function(){return this},disablePublisherConsole:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(e,n,o){return t(e,n,o,!1)},defineOutOfPageSlot:function(e,n){return t(e,[],n,!0)},display:function(e){return window.googletag.ads[e].renderEnded.call(dfpScript),this}},$.each(e,function(e,t){window.googletag.cmd.push(t)})},50)},$.gsnDfp=$.fn.gsnDfp=function(e,t){var n;return t=t||{},void 0===e&&(e=dfpID),"object"==typeof e&&(t=e,e=t.dfpID||dfpID),n=this,"function"==typeof this&&(n=dfpSelector),init(e,n,t),this}}(window.jQuery||window.Zepto||window.tire||window.$,window),function($,window){"use strict";var $adCollection,advertUrl,apiUrl,chainId,clean,clearCookie,count,createAds,cssUrl,dfpBlocked,dfpID,dfpIsLoaded,dfpLoader,dfpOptions,dfpScript,dfpSelector,didOpen,displayAds,getCookie,getDimensions,getID,getPopup,init,onCloseCallback,onOpenCallback,rendered,sessionStorageX,setAdvertisingTester,setCookie,setOptions,setResponsiveCss,storeAs;sessionStorageX=sessionStorage,"undefined"==typeof sessionStorageX&&(sessionStorageX={getItem:function(){},setItem:function(){}}),dfpScript=this,dfpID="",count=0,rendered=0,dfpSelector=".gsnsw",dfpOptions={},dfpIsLoaded=!1,$adCollection=void 0,storeAs="gsnsw",apiUrl="https://clientapi.gsn2.com/api/v1/ShopperWelcome/GetShopperWelcome/",cssUrl="//cdn.gsngrocers.com/script/sw2/1.1.0/sw2-override.css",advertUrl="//cdn.gsngrocers.com/script/sw2/1.1.0/advertisement.js",chainId=0,didOpen=!1,init=function(e,t,n){var o,i;setOptions(n),i=dfpOptions.cssUrl||cssUrl,o=dfpOptions.advertUrl||advertUrl,dfpOptions.cancel&&onCloseCallback({cancel:!0}),setResponsiveCss(i),setAdvertisingTester(o),null===getCookie("shopperwelcome2")?(dfpID=e,dfpLoader(),getPopup(t),Gsn.Advertising.on("clickBrand",function(){$(".sw-close").click()})):onCloseCallback({cancel:!0})},setResponsiveCss=function(e){var t,n;0===$(".respo").length&&(n=document.getElementsByTagName("head").item(0),t=document.createElement("link"),t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("class","respo"),n.appendChild(t))},setAdvertisingTester=function(e){var t,n;0===$(".advert").length&&(t=document.getElementsByTagName("body").item(0),n=document.createElement("script"),n.setAttribute("src",e),n.setAttribute("class","advert"),t.appendChild(n))},onOpenCallback=function(){didOpen=!0,setTimeout(function(){"undefined"==typeof gsnGlobalTester&&(jQuery(".sw-msg").show(),jQuery(".sw-header-copy").hide(),jQuery(".sw-row").hide())},150)},onCloseCallback=function(){$(".sw-pop").remove(),$(".lean-overlay").remove(),window.scrollTo(0,0),null===getCookie("shopperwelcome2")&&setCookie("shopperwelcome2","shopperwelcome2",1),"function"==typeof dfpOptions.onClose&&dfpOptions.onClose(didOpen)},getPopup=function(e){var t,n;n=dfpOptions.apiUrl||apiUrl,t=dfpOptions.chainId||chainId,$.ajax({url:n+t,dataType:"json",success:function(n){var o,i;n?(n=n.replace(/%%CACHEBUSTER%%/g,(new Date).getTime()).replace(/%%CHAINID%%/g,t),0===$("#sw").length&&(o=document.getElementsByTagName("body").item(0),i=document.createElement("div"),i.setAttribute("id","sw"),o.appendChild(i)),$("#sw").html(clean(n)),$adCollection=$(e),$adCollection&&(createAds(),displayAds(),$(".sw-pop").easyModal({autoOpen:!0,closeOnEscape:!1,onClose:onCloseCallback,onOpen:onOpenCallback,top:25}))):onCloseCallback({cancel:!0})}})},clean=function(e){var t;return t=$(e.trim()),$(".remove",t).remove(),t.prop("outerHTML")},getCookie=function(e){var t,n;return document.cookie.length>0&&(t=document.cookie.indexOf(e+"="),n=0,-1!==t)?(t+=e.length+1,n=document.cookie.indexOf(";",t),-1===n&&(n=document.cookie.length),decodeURI(document.cookie.substring(t,n))):null},setCookie=function(e,t,n){var o;o=new Date,o.setTime(o.getTime()+24*n*3600*1e3),document.cookie=e+"="+encodeURI(t)+(null===n?"":"; expires="+o.toGMTString())+"; path=/"},clearCookie=function(e){e===getCookie(e)&&(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT")},setOptions=function(e){dfpOptions={setTargeting:{},setCategoryExclusion:"",setLocation:"",enableSingleRequest:!0,collapseEmptyDivs:!0,refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,noFetch:!1},$.extend(!0,dfpOptions,e),dfpOptions.googletag&&window.googletag.cmd.push(function(){$.extend(!0,window.googletag,dfpOptions.googletag)})},createAds=function(){$adCollection.each(function(){var $adUnit,$existingContent,adUnitID,dimensions;$adUnit=$(this),count++,adUnitID=getID($adUnit,"gsnsw",count),dimensions=getDimensions($adUnit),$existingContent=$adUnit.html(),$adUnit.html("").addClass("display-none"),window.googletag.cmd.push(function(){var $adUnitData,exclusions,exclusionsGroup,googleAdUnit,targeting,valueTrimmed;googleAdUnit=void 0,$adUnitData=$adUnit.data(storeAs),$adUnitData||(dfpID=dfpID.replace(/(\/\/)+/gi,"/").replace(/\s+/gi,"").replace(/(\/)$/,"/"),0!==dfpID.indexOf("/")&&(dfpID="/"+dfpID),googleAdUnit=$adUnit.data("outofpage")?window.googletag.defineOutOfPageSlot(dfpID,adUnitID).addService(window.googletag.pubads()):window.googletag.defineSlot(dfpID,dimensions,adUnitID).addService(window.googletag.pubads()),targeting=$adUnit.data("targeting"),targeting&&("string"==typeof targeting&&(targeting=eval("("+targeting+")")),$.each(targeting,function(e,t){"brand"===e&&sessionStorageX.setItem("brand",t),googleAdUnit.setTargeting(e,t)})),exclusions=$adUnit.data("exclusions"),exclusions&&(exclusionsGroup=exclusions.split(","),valueTrimmed=void 0,$.each(exclusionsGroup,function(e,t){valueTrimmed=$.trim(t),valueTrimmed.length>0&&googleAdUnit.setCategoryExclusion(valueTrimmed)})),googleAdUnit.oldRenderEnded=googleAdUnit.oldRenderEnded||googleAdUnit.renderEnded,googleAdUnit.renderEnded=function(){var e;rendered++,e=$adUnit.css("display"),$adUnit.removeClass("display-none").addClass("display-"+e),"function"==typeof dfpOptions.afterEachAdLoaded&&dfpOptions.afterEachAdLoaded.call(this,$adUnit),"function"==typeof dfpOptions.afterAllAdsLoaded&&rendered===count&&dfpOptions.afterAllAdsLoaded.call(this,$adCollection)},$adUnit.data(storeAs,googleAdUnit))})}),window.googletag.cmd.push(function(){var e,t;"undefined"==typeof dfpOptions.setTargeting.brand&&sessionStorageX.getItem("brand")&&(dfpOptions.setTargeting.brand=sessionStorageX.getItem("brand")),dfpOptions.enableSingleRequest===!0&&window.googletag.pubads().enableSingleRequest(),$.each(dfpOptions.setTargeting,function(e,t){"brand"===e&&sessionStorageX.setItem("brand",t),window.googletag.pubads().setTargeting(e,t)}),"object"==typeof dfpOptions.setLocation&&("number"==typeof dfpOptions.setLocation.latitude&&"number"==typeof dfpOptions.setLocation.longitude&&"number"==typeof dfpOptions.setLocation.precision?window.googletag.pubads().setLocation(dfpOptions.setLocation.latitude,dfpOptions.setLocation.longitude,dfpOptions.setLocation.precision):"number"==typeof dfpOptions.setLocation.latitude&&"number"==typeof dfpOptions.setLocation.longitude&&window.googletag.pubads().setLocation(dfpOptions.setLocation.latitude,dfpOptions.setLocation.longitude)),dfpOptions.setCategoryExclusion.length>0&&(e=dfpOptions.setCategoryExclusion.split(","),t=void 0,$.each(e,function(e,n){t=$.trim(n),t.length>0&&window.googletag.pubads().setCategoryExclusion(t)})),dfpOptions.collapseEmptyDivs&&window.googletag.pubads().collapseEmptyDivs(),dfpOptions.disablePublisherConsole===!0&&window.googletag.pubads().disablePublisherConsole(),dfpOptions.disableInitialLoad===!0&&window.googletag.pubads().disableInitialLoad(),dfpOptions.noFetch===!0&&window.googletag.pubads().noFetch(),window.googletag.enableServices()})},displayAds=function(){var e;e=[],$adCollection.each(function(){var t,n;t=$(this),n=t.data(storeAs),dfpOptions.refreshExisting&&n&&t.data("gsnDfpExisting")?e.push(n):(t.data("gsnDfpExisting",!0),window.googletag.cmd.push(function(){window.googletag.display(t.attr("id"))}))}),e.length>0&&window.googletag.cmd.push(function(){window.googletag.pubads().refresh(e)})},getID=function(e,t,n){return dfpOptions.refreshExisting||(e.data(storeAs,null),e.data("gsnDfpExisting",null),e.attr("id")&&e.attr("id",t+"-auto-gen-id-"+n)),e.attr("id")||e.attr("id",t+"-auto-gen-id-"+n).attr("id")},getDimensions=function(e){var t,n,o;return n=[],o=e.data("dimensions"),o?(t=o.split(","),$.each(t,function(e,t){var o;o=t.split("x"),n.push([parseInt(o[0],10),parseInt(o[1],10)])})):n.push([e.width(),e.height()]),n},dfpLoader=function(){var e,t,n;dfpIsLoaded=dfpIsLoaded||$('script[src*="googletagservices.com/tag/js/gpt.js"]').length,dfpIsLoaded||(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e=document.createElement("script"),e.async=!0,e.type="text/javascript",e.onerror=function(){dfpBlocked()},n="https:"===document.location.protocol,e.src=(n?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t),"none"===e.style.display&&dfpBlocked())},dfpBlocked=function(){var e;e=window.googletag.cmd,setTimeout(function(){var t;t=function(e,t,n){return window.googletag.ads.push(n),window.googletag.ads[n]={renderEnded:function(){},addService:function(){return this}},window.googletag.ads[n]},window.googletag={cmd:{push:function(e){e.call(dfpScript)}},ads:[],pubads:function(){return this},noFetch:function(){return this},disableInitialLoad:function(){return this},disablePublisherConsole:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(e,n,o){return t(e,n,o,!1)},defineOutOfPageSlot:function(e,n){return t(e,[],n,!0)},display:function(e){return window.googletag.ads[e].renderEnded.call(dfpScript),this}},$.each(e,function(e,t){window.googletag.cmd.push(t)})},50)},$.gsnSw2=$.fn.gsnSw2=function(e,t){var n;return t=t||{},void 0===e&&(e=dfpID),"object"==typeof e&&(t=e,e=t.dfpID||dfpID),n=this,"function"==typeof this&&(n=dfpSelector),$(t.displayWhenExists||".gsnunit").length&&init(e,n,t),this}}(window.jQuery||window.Zepto||window.tire||window.$,window),function(e){"use strict";var t;t={init:function(t){var n;return n={top:"auto",autoOpen:!1,overlayOpacity:.5,overlayColor:"#000",overlayClose:!0,overlayParent:"body",closeOnEscape:!0,closeButtonClass:".close",transitionIn:"",transitionOut:"",onOpen:!1,onClose:!1,zIndex:function(){return function(e){return e===-1/0?0:e+1}(Math.max.apply(Math,e.makeArray(e("*").map(function(){return e(this).css("z-index")}).filter(function(){return e.isNumeric(this)}).map(function(){return parseInt(this,10)}))))},updateZIndexOnOpen:!1,adClass:"gsnsw"},t=e.extend(n,t),this.each(function(){var n,o,i;i=t,o=e('<div class="lean-overlay"></div>'),n=e(this),o.css({display:"none",position:"absolute","z-index":2147483640,top:0,left:0,height:"100%",width:"100%",background:i.overlayColor,opacity:i.overlayOpacity,overflow:"auto"}).appendTo(i.overlayParent),n.css({display:"none",position:"absolute","z-index":2147483647,left:window.devicePixelRatio>=2?"33%":"50%",top:parseInt(i.top,10)>-1?i.top+"px":"50%"}),n.bind("openModal",function(){var e,t;t=i.updateZIndexOnOpen?i.zIndex():parseInt(o.css("z-index"),10),e=t+1,""!==i.transitionIn&&""!==i.transitionOut&&n.removeClass(i.transitionOut).addClass(i.transitionIn),n.css({display:"block","margin-left":window.devicePixelRatio>=2?0:-(n.outerWidth()/2)+"px","margin-top":(parseInt(i.top,10)>-1?0:-(n.outerHeight()/2))+"px","z-index":e}),o.css({"z-index":t,display:"block"}),i.onOpen&&"function"==typeof i.onOpen&&i.onOpen(n[0])}),n.bind("closeModal",function(){""!==i.transitionIn&&""!==i.transitionOut?(n.removeClass(i.transitionIn).addClass(i.transitionOut),n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.css("display","none"),o.css("display","none")})):(n.css("display","none"),o.css("display","none")),i.onClose&&"function"==typeof i.onClose&&i.onClose(n[0])}),o.click(function(){i.overlayClose}),e(document).keydown(function(e){i.closeOnEscape&&27===e.keyCode&&n.trigger("closeModal")}),n.on("click",i.adClass,function(e){n.trigger("closeModal"),e.preventDefault()}),n.on("click",i.closeButtonClass,function(e){n.trigger("closeModal"),e.preventDefault()}),i.autoOpen&&n.trigger("openModal")})}},e.fn.easyModal=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.easyModal"):t.init.apply(this,arguments)}}(window.jQuery||window.Zepto||window.tire||window.$);